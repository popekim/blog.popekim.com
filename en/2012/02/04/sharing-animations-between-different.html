<!DOCTYPE html>
<html lang="en">


<head>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NHD74QDQ');</script>
    <!-- End Google Tag Manager -->


    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

    <title>Animation Sharing between Different Characters with Same Topology in Unity | PPMC</title>
    
    
    
    <link rel="stylesheet" href="/en/assets/lib/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/en/assets/css/site.css?1762029389014538988" />
    <link rel="stylesheet" href="/en/assets/css/prism-pocu.min.css" />

    <link rel="shortcut icon" href="/en/assets/favicon.ico" />

    <link rel="canonical" href="https://blog.popekim.com/en/2012/02/04/sharing-animations-between-different.html" />

<link type="application/atom+xml" rel="alternate" href="https://blog.popekim.com/en/feed.xml" title="PPMC | All" />
<link type="application/atom+xml" rel="alternate" href="https://blog.popekim.com/en/feed/dev.xml" title="PPMC | Dev" />
<link type="application/atom+xml" rel="alternate" href="https://blog.popekim.com/en/feed/music.xml" title="PPMC | Music" />
<link type="application/atom+xml" rel="alternate" href="https://blog.popekim.com/en/feed/personal.xml" title="PPMC | Personal" />

    <link rel="alternate" href="https://blog.popekim.com/en/2012/02/04/sharing-animations-between-different.html" hreflang="en" />
    <link rel="alternate" href="https://blog.popekim.com/ko/2012/02/04/sharing-animations-between-different.html" hreflang="ko" />

    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1575918182992085" crossorigin="anonymous"></script>
    
</head>

<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NHD74QDQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    
<nav class="navbar navbar-expand-lg fixed-top navbar-light shadow-sm px-3 px-sm-0 py-lg-3 bg-white">
    <div class="container">
        <a class="navbar-brand" href="/en/">
            <img class="mt-2 mb-2" src="/en/assets/img/navbar_logo.png" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
<ul class="navbar-nav ml-auto mr-lg-3">
    <li class="nav-item">
        <a class="nav-link font-weight-bold" href="/en/about.html">about</a>
    </li>
    <li class="nav-item">
        <a class="nav-link font-weight-bold" href="/en/archives/">archives</a>
    </li>
    
    
        
        
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="/en/categories/dev">cat:dev</a>
        </li>
    
        
        
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="/en/categories/music">cat:music</a>
        </li>
    
        
        
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="/en/categories/personal">cat:personal</a>
        </li>
    
</ul>

        </div>
    </div>
</nav>

    <div class="container doc">
        <div class="pt-4 pb-4">
    <div class="row no-gutters">
        <div class="col-lg-10 offset-lg-1">
            <article class="shadow--md px-md-5 py-md-5 border--md rounded">
                <header>
                    <h1 class="card-title text-center mb-4 font-weight-bold">Animation Sharing between Different Characters with Same Topology in Unity</h1>
                    <div class="h6 text-muted text-center mb-4 mb-md-5"><img width="70" src="/en/assets/img/authors/pope.gif" class="rounded-circle mx-auto d-block mb-3" />
                        <span
                            class="h6 border border-dark border-left-0 border-top-0 border-bottom-0 pr-2 pr-lg-3 align-middle">
                            Pope Kim</span>
                        

                        <span class="h6 text-muted align-middle pl-1 pl-lg-2">
                            <i class="far fa-calendar-alt mr-2 opacity-75"></i>
                            Feb 4, 2012
                        </span><ul class="list-inline list-unstyled mt-2">
                            <li class="list-inline-item align-middle opacity-75"><small><i
                                        class="fas fa-tags"></i></small></li>
                        
                            
                             
                            
                            <li class="list-inline-item align-middle">
                                <small><a class="tag-link" href="/en/tags/unity/">unity</a></small>
                            </li>
                            
                             
                            
                            <li class="list-inline-item align-middle">
                                <small><a class="tag-link" href="/en/tags/animation/">animation</a></small>
                            </li>
                            
                             
                            
                            <li class="list-inline-item align-middle">
                                <small><a class="tag-link" href="/en/tags/graphics/">graphics</a></small>
                            </li></ul></div>
                </header>
                <section class="pt-4 pb-4 pb-md-5 border border-top-0 border-right-0 border-left-0">
                    <p>So let's say you have multiple characters with different bone lengths, but you just don't have manpower to author different animations for all of them. Can we share animations, instead? Sure, why not, if you can live without transition and scale animations on joints: in other words, you are only gonna use rotations. Think it this way. When you rotate your right elbow inward by 90 degrees, your pose will look same as your shorter friend applying the exactly same rotation on his right elbow. Got it?</p>

<p><img src="/en/assets/img/2012/02/00.jpg" alt="image" /></p>

<p><strong>Image Source</strong>: http://answers.unity3d.com/questions/191282/sharing-animations-between-models.html</p>

<p>Okay, so I was searching Unity forum to see if rotation-only animation is officially supported. Didn't look like it. Then next up. Can we somehow trim out non-rotational info from an anim file in the pipeline? I was not able to find the answer again, <del>or even anyone asking</del>. (Sorry, after finishing this post, I actually found <a href="http://answers.unity3d.com/questions/191282/sharing-animations-between-models.html#comment-191370">someone asking, but noone really answered.</a>)</p>

<p>And the good news is……. -drum rolls- …. I figured it out! :D</p>

<p>So this is what I came up with and it works great: (code shown below)</p>

<ol>
  <li>Make a script called ConvertToRotationOnlyAnim.cs inside of Assets/Editor folder.</li>
  <li>Add a menu item invoking this script.</li>
  <li>Import your animation into Unity. (doesn't matter where it's from as long as Unity sees it as animation)</li>
  <li>Right-click on the imported animation asset and select the menu item we just added at step #2.</li>
  <li>In the Script, copy over only the curves which have "m_LocalRotation" as propertyName field.</li>
  <li>Now set the new _rot animation clip to your game object's animation component.</li>
  <li>Hit play and enjoy… :)</li>
</ol>

<p>And here is the full source code I wrote for this. Hopefully the comment is self-explanatory:</p>

<pre><code class="language-cs">using UnityEditor;
using UnityEngine;

using System.IO;

public class ConvertToRotationOnlyAnim
{
  [MenuItem("Assets/Convert To Rotation Animation")]
  static void ConvertToRotationAnimation()
  {
    // Get Selected Animation Clip
    AnimationClip sourceClip = Selection.activeObject as AnimationClip;
    if (sourceClip == null)
    {
      Debug.Log("Please select an animation clip");
      return;
    }

    // Rotation only anim clip will have "_rot" post fix at the end
    const string destPostfix = "_rot";

    string sourcePath = AssetDatabase.GetAssetPath(sourceClip);
    string destPath = Path.Combine(Path.GetDirectoryName(sourcePath), sourceClip.name) + destPostfix + ".anim";

    // first try to open existing clip to avoid losing reference to this animation from other meshes that are already using it.
    AnimationClip destClip = AssetDatabase.LoadAssetAtPath(destPath, typeof(AnimationClip)) as AnimationClip;
    if (destClip == null)
    {
      // existing clip not found. Let's create a new one
      Debug.Log("creating a new rotation only animation at " + destPath);
     
      destClip = new AnimationClip();
      destClip.name = sourceClip.name + destPostfix;

      AssetDatabase.CreateAsset(destClip, destPath);
      AssetDatabase.Refresh();

      // and let's load it back, just to make sure it's created?
      destClip = AssetDatabase.LoadAssetAtPath(destPath, typeof(AnimationClip)) as AnimationClip;
    }

    if (destClip == null)
    {
      Debug.Log("cannot create/open the rotation only anim at " + destPath);
      return;
    }

    // clear all the existing curves from destination.
    destClip.ClearCurves();

    // Now copy only rotation curves
    AnimationClipCurveData[] curveDatas = AnimationUtility.GetAllCurves(sourceClip, true);
    foreach (AnimationClipCurveData curveData in curveDatas)
    {
      if (curveData.propertyName.Contains("m_LocalRotation"))
      {
        AnimationUtility.SetEditorCurve(
          destClip,
          curveData.path,
          curveData.type,
          curveData.propertyName,
          curveData.curve
        );
      }
    }

    Debug.Log("Hooray! Coverting to rotation-only anim to " + destClip.name + " is done");
  }
}
</code></pre>

<h6 id="update-mar-21-2011">Update (Mar 21, 2011):</h6>
<p>One anonymous commenter enhanced this by allowing local root bone translation. Without this you won't be able to translate your model :)</p>

<p>Change this line to:</p>

<pre><code class="language-cs">if (curveData.propertyName.Contains("m_LocalRotation"))
</code></pre>

<p>this:</p>
<pre><code class="language-cs">if (curveData.propertyName.Contains("m_LocalRotation")
 || (curveData.path.Equals("Bip01 Pelvis")
 &amp;&amp; curveData.propertyName.Contains("m_LocalPosition")))
</code></pre>

<p>Thanks anonymous!</p>
</section>
                
                <footer class="pt-4 pt-md-5">
                    <h2 class="h4">Related Posts</h2>
                    <ul class="list-unstyled">
                        
                        <li><a href="/en/2012/06/11/unity-i-love-you-but-your-uv-is-horrible.html">Unity, I Love You, But Your UV Is Horrible</a></li>
                        
                        <li><a href="/en/2012/07/10/how-to-generate-csharp-object-from-xml.html">How To Generate C# Object from XML</a></li>
                        
                        <li><a href="/en/2025/08/25/7700k-windows11-upgrade.html">The End of Windows 10 Support and the Unfair Fate of an Intel i7</a></li>
                        
                    </ul>
                </footer>
                
                <footer>
                    
<script src="https://giscus.app/client.js"
    data-repo="popekim/blog.popekim.com-comments-en"
    data-repo-id="R_kgDOONEmWA"
    data-category="Comments"
    data-category-id="DIC_kwDOONEmWM4CoXIN"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async>
</script>
                </footer>
            </article>
        </div>
    </div>
</div>
    </div>
    
    <footer class="site-footer position-absolute border-top">
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-5 pl-sm-0 pl-lg-6">
                <div>
                    <span class="ml-1">Copyright © 2008 - 2025. Pope Kim</span>
                </div>
            </div>
            <div class="col col-md-5 m-0 p-sm-0 text-md-right">
                <a class="mr-sm-3 mr-0 text-secondary text-nowrap font-weight-bold" href="/ko">한국어</a>
                <span class="h5 opacity-75"><a href="/en/feed.xml" class="badge badge-dark"><i class="fas fa-rss"></i></a></span>
                <span class="h5 opacity-75"><a href="https://www.youtube.com/channel/UCTkPfbt3vgJUwJUMWsBe0yw" class="badge badge-dark" target="_blank"><i class="fab fa-youtube"></i></a></span>
                <span class="h5 opacity-75"><a href="https://x.com/blindrenderer" class="badge badge-dark" target="_blank"><i class="fab fa-twitter"></i></a></span>
                <span class="h5 opacity-75"><a href="https://www.linkedin.com/in/popekim/" class="badge badge-dark" target="_blank"><i class="fab fa-linkedin-in"></i></a></span>
                <span class="h5 opacity-75"><a href="https://www.github.com/popekim/" class="badge badge-dark" target="_blank"><i class="fab fa-github"></i></a></span>
            </div>
        </div>
    </div>
</footer>
    
<script src="/en/assets/lib/jquery/jquery-3.7.1.slim.min.js"></script>
<script src="/en/assets/lib/bootstrap/js/bootstrap.bundle.js"></script>
<script src="/en/assets/lib/prism/js/prism.min.js"></script>
<script src="/en/assets/lib/prism/js/prism-asm6502.min.js"></script>
<script src="/en/assets/lib/prism/js/prism-c.min.js"></script>
<script src="/en/assets/lib/prism/js/prism-cpp.min.js"></script>
<script src="/en/assets/lib/prism/js/prism-csharp.min.js"></script>
<script src="/en/assets/lib/prism/js/prism-java.min.js"></script>
<script src="/en/assets/js/prism/prism-masm.min.js"></script>
<script src="/en/assets/js/saveLangToCookie.js" type="text/javascript"></script>

</body>

</html>